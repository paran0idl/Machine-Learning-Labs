"0","f=function(data,ind){"
"0","  data1=data[ind,]"
"0","  tree_mod<-tree(EX~MET,data=data1,control = tree.control(minsize = 8,nobs = nrow(data)))"
"0","  prunedTree=prune.tree(tree_mod,best=3) "
"0","  pred=predict(prunedTree,data)"
"0","  return(pred)"
"0","}"
"0",""
"0","boot_res=boot(data,f,R=1000)"
"2","best is bigger than tree size"
"0","CE<-envelope(boot_res,level = 0.95)"
"0",""
"0",""
"0","tree_mod<-tree(EX~MET,data=data,control = tree.control(minsize = 8,nobs = nrow(data)))"
"0","prunedTree=prune.tree(tree_mod,best=3) "
"0","pred=predict(prunedTree,data)"
"0",""
"0","CI_band=data.frame(upper=CE$point[1,],lower=CE$point[2,],EX=data$EX,MET=data$MET,pred=pred)"
"0","ggplot(data=CI_band)+geom_point(aes(x=MET,y=EX))+geom_line(aes(x=MET,y=pred),col=""blue"")+geom_ribbon(aes(x=MET,ymin=lower,ymax=upper),alpha=0.1)"
